{% extends "base.html" %}

{% block content %}
<h1 class="text-3xl font-bold mb-6 text-center text-blue-600">Admin Dashboard</h1>

<div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
    <h2 class="text-2xl font-semibold mb-4">Quiz Statistics</h2>
    <p>Total Quizzes Taken: {{ stats.total_quizzes }}</p>
    <p>Average Score: {{ "%.2f"|format(stats.average_score) }}%</p>
    <p>Last Updated: {{ stats.last_updated.strftime('%Y-%m-%d %H:%M:%S') }}</p>
</div>

<div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
    <h2 class="text-2xl font-semibold mb-4">Recent Quiz Submissions</h2>
    <table class="w-full">
        <thead>
            <tr>
                <th class="px-4 py-2">User</th>
                <th class="px-4 py-2">Score</th>
                <th class="px-4 py-2">Date</th>
            </tr>
        </thead>
        <tbody>
            {% for quiz in recent_quizzes %}
            <tr>
                <td class="border px-4 py-2">{{ quiz.user.name }}</td>
                <td class="border px-4 py-2">{{ quiz.score }}</td>
                <td class="border px-4 py-2">{{ quiz.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
